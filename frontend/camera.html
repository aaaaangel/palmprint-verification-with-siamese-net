<!DOCTYPE html>
<html lang="ZH-CN">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no">
    <title>camera</title>
    <script src="js/webcam.js"></script>
    <link href="css/camera.css" rel="stylesheet" type="text/css" />
</head>
<body>

<div id="my_camera" style="width:320px; height:240px;"></div>
<div class="btn" id="take" onclick="take_snapshot()">Take Snapshot</div>

<div class="btn" id="save">Save</div>
<div id="my_result"></div>

<script language="JavaScript">
    Webcam.attach( '#my_camera' );
    Webcam.set({
        width: 320,
        height: 240,
        crop_width: 240,
        crop_height: 240
    });

    function take_snapshot() {
        Webcam.snap( function(data_uri) {
            document.getElementById('my_result').innerHTML = '<img src="'+data_uri+'"/>';
        } );
        Webcam.snap( function(data_uri) {
            // snap complete, image data is in 'data_uri'
            console.log("upload");
            Webcam.upload( data_uri, 'myscript.php', function(code, text) {
                // Upload complete!
                // 'code' will be the HTTP response code from the server, e.g. 200
                // 'text' will be the raw response content

            } );

        } );
    }
</script>

<!--<a href="javascript:void(take_snapshot())">Take Snapshot</a>-->
</body>
</html>

